Установка «Ассистент» на операционные системы семейства Linux

Данное руководство поможет вам установить и запустить «Ассистент» на операционных системах семейства Linux, которые на данный момент официально не поддерживаются разработчиком.

1. Простая установка для работы в пользовательском режиме

Установка выполняется от имени суперпользователя root.

1.1 Распакуйте содержимое архива assistant.tar.gz в папку /opt.
1.2 Проверьте, что у пользователей есть права на запись в папки /opt/assistant/log, /opt/assistant/video, /opt/assistant/screenshots.
1.3 Откройте терминал и выполните в нем команду /opt/assistant/scripts/assistant.sh или создайте ярлык для запуска этого скрипта из среды рабочего стола.

2. Установка для работы в режиме сервиса (демона)

При работе в режиме сервиса «Ассистент» будет загружаться автоматически при загрузке системы и позволит подключаться к экрану входа в систему удаленного устройства, обеспечивая возможность удаленного управления в режиме 24/7.

Если в вашей операционной системе используется инициализация при помощи Systemd или OpenRC, настроить «Ассистент» для работы в режиме сервиса можно следующей командой (от пользователя root): /opt/assistant/scripts/inst_daemon.sh

Для отключения режима сервиса выполните команду /opt/assistant/scripts/unist_daemon.sh

3. Комментарии опытным пользователям

3.1 Переменные окружения DISPLAY и XAUTHORITY

При работе в режиме сервиса приложение запускается после старта графической подсистемы и ему необходимо указать свойства соединения с графическим сервером. Эти свойства хранятся в переменных окружения DISPLAY и XAUTHORITY, которые заполняются в скрипте /opt/assistant/scripts/runasts.sh.

Расположение файла авторизации, на который указывает переменная XAUTHORITY, зависит от менеджера входа в систему. В скрипте выполняется поиск этого файла для наиболее популярных менеджеров и, если такой найден, приложение запускается. Если во время запуска произошла ошибка, информацию о ней можно найти в файле /opt/assistant/log/daemon.log. Возможно, будет необходимо исправить процедуру поиска файла авторизации в скрипте /opt/assistant/scripts/runasts.sh

3.2  Переменная окружения LD_LIBRARY_PATH

Для обеспечения запуска под некоторыми версиями операционных систем в скриптах assistant.sh и runasts.sh используется экспортирование переменной окружения LD_LIBRARY_PATH. Возможно, для вашей операционный системы это не является необходимым и вы можете закомментировать эту строку, повысив безопасность работы.

3.3 Структура каталогов

/opt/assistant/bin — исполняемые файлы;
/opt/assistant/lib — библиотеки;
/opt/assistant/scripts — скрипты;
/opt/assistant/share - общедоступные файлы;
/opt/assistant/log — файлы журналов;
/opt/assistant/doc — документация;
/opt/assistant/screenshot — снимки экрана, изменить путь можно в настройках приложения;
/opt/assistant/video — видеозаписи сеансов управления, изменить путь можно в настройках приложения.

4. Замечания

4.1 При автоматическом или ручном обновлении приложения рекомендуется перезапустить приложение. При работе в режиме демона перезапустите соответствующую службу.